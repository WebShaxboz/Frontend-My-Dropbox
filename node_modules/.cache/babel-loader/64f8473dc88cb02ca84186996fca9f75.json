{"ast":null,"code":"import _regeneratorRuntime from\"/Users/student/Desktop/drop/Frontend-My-Dropbox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/student/Desktop/drop/Frontend-My-Dropbox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/student/Desktop/drop/Frontend-My-Dropbox/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState}from\"react\";import{Form,Button,Card,Alert}from\"react-bootstrap\";import{useAuth}from\"../../contexts/AuthContext\";import{Link,useHistory}from\"react-router-dom\";import CenteredContainer from\"../CenteredContainer/CenteredContainer\";import'./Signup.css';export default function Signup(){var emailRef=useRef();var passwordRef=useRef();var passwordConfirmRef=useRef();var _useAuth=useAuth(),signup=_useAuth.signup;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var history=useHistory();function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(passwordRef.current.value!==passwordConfirmRef.current.value)){_context.next=3;break;}return _context.abrupt(\"return\",setError(\"Passwords do not match\"));case 3:_context.prev=3;setError(\"\");setLoading(true);_context.next=8;return signup(emailRef.current.value,passwordRef.current.value);case 8:history.push(\"/\");_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](3);setError(\"Failed to create an account\");case 14:setLoading(false);case 15:case\"end\":return _context.stop();}}},_callee,null,[[3,11]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",{className:\"up-container\"},/*#__PURE__*/React.createElement(CenteredContainer,null,/*#__PURE__*/React.createElement(\"div\",{className:\"up-con-item\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"up-con-name\"},\"Sign Up\"),error&&/*#__PURE__*/React.createElement(Alert,{variant:\"danger\"},error),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"input\",{className:\"up-con-input-email\",placeholder:\"Enter your email\",type:\"email\",ref:emailRef,required:true}),/*#__PURE__*/React.createElement(\"input\",{className:\"up-con-input-pasword\",placeholder:\"Enter your password\",type:\"password\",ref:passwordRef,required:true}),/*#__PURE__*/React.createElement(\"label\",{className:\"up-con-input-txt\"},\"Password Confirmation\"),/*#__PURE__*/React.createElement(\"input\",{className:\"up-con-input-repasword\",placeholder:\"Confirm your password\",type:\"password\",ref:passwordConfirmRef,required:true}),/*#__PURE__*/React.createElement(\"button\",{className:\"up-con-sign\"},\"Sign Up\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"up-con-in\"},\"Already have an account? \",/*#__PURE__*/React.createElement(Link,{to:\"/login\"},\"Log In\"))));}","map":{"version":3,"sources":["/Users/student/Desktop/drop/Frontend-My-Dropbox/src/components/SignUp/Signup.js"],"names":["React","useRef","useState","Form","Button","Card","Alert","useAuth","Link","useHistory","CenteredContainer","Signup","emailRef","passwordRef","passwordConfirmRef","signup","error","setError","loading","setLoading","history","handleSubmit","e","preventDefault","current","value","push"],"mappings":"+eAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,QAAxB,KAAwC,OAAxC,CACA,OAASC,IAAT,CAAeC,MAAf,CAAuBC,IAAvB,CAA6BC,KAA7B,KAA0C,iBAA1C,CACA,OAASC,OAAT,KAAwB,4BAAxB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAOC,CAAAA,iBAAP,KAA8B,wCAA9B,CACA,MAAO,cAAP,CAEA,cAAe,SAASC,CAAAA,MAAT,EAAkB,CAC/B,GAAMC,CAAAA,QAAQ,CAAGX,MAAM,EAAvB,CACA,GAAMY,CAAAA,WAAW,CAAGZ,MAAM,EAA1B,CACA,GAAMa,CAAAA,kBAAkB,CAAGb,MAAM,EAAjC,CAH+B,aAIZM,OAAO,EAJK,CAIvBQ,MAJuB,UAIvBA,MAJuB,eAKLb,QAAQ,CAAC,EAAD,CALH,wCAKxBc,KALwB,eAKjBC,QALiB,8BAMDf,QAAQ,CAAC,KAAD,CANP,yCAMxBgB,OANwB,eAMfC,UANe,eAO/B,GAAMC,CAAAA,OAAO,CAAGX,UAAU,EAA1B,CAP+B,QAShBY,CAAAA,YATgB,gJAS/B,iBAA4BC,CAA5B,kHACEA,CAAC,CAACC,cAAF,GADF,KAGMV,WAAW,CAACW,OAAZ,CAAoBC,KAApB,GAA8BX,kBAAkB,CAACU,OAAnB,CAA2BC,KAH/D,0DAIWR,QAAQ,CAAC,wBAAD,CAJnB,yBAQIA,QAAQ,CAAC,EAAD,CAAR,CACAE,UAAU,CAAC,IAAD,CAAV,CATJ,sBAUUJ,CAAAA,MAAM,CAACH,QAAQ,CAACY,OAAT,CAAiBC,KAAlB,CAAyBZ,WAAW,CAACW,OAAZ,CAAoBC,KAA7C,CAVhB,QAWIL,OAAO,CAACM,IAAR,CAAa,GAAb,EAXJ,iFAaIT,QAAQ,CAAC,6BAAD,CAAR,CAbJ,QAgBEE,UAAU,CAAC,KAAD,CAAV,CAhBF,qEAT+B,+CA4B/B,mBACE,2BAAK,SAAS,CAAC,cAAf,eACA,oBAAC,iBAAD,mBACI,2BAAK,SAAS,CAAC,aAAf,eACE,0BAAI,SAAS,CAAC,aAAd,YADF,CAEGH,KAAK,eAAI,oBAAC,KAAD,EAAO,OAAO,CAAC,QAAf,EAAyBA,KAAzB,CAFZ,cAGE,4BAAM,QAAQ,CAAEK,YAAhB,eACI,6BAAO,SAAS,CAAC,oBAAjB,CAAsC,WAAW,CAAC,kBAAlD,CAAqE,IAAI,CAAC,OAA1E,CAAkF,GAAG,CAAET,QAAvF,CAAiG,QAAQ,KAAzG,EADJ,cAEI,6BAAO,SAAS,CAAC,sBAAjB,CAAwC,WAAW,CAAC,qBAApD,CAA0E,IAAI,CAAC,UAA/E,CAA0F,GAAG,CAAEC,WAA/F,CAA4G,QAAQ,KAApH,EAFJ,cAGI,6BAAO,SAAS,CAAC,kBAAjB,0BAHJ,cAII,6BAAO,SAAS,CAAC,wBAAjB,CAA0C,WAAW,CAAC,uBAAtD,CAA8E,IAAI,CAAC,UAAnF,CAA8F,GAAG,CAAEC,kBAAnG,CAAuH,QAAQ,KAA/H,EAJJ,cAKE,8BAAQ,SAAS,CAAC,aAAlB,YALF,CAHF,CADJ,cAYE,2BAAK,SAAS,CAAC,WAAf,2CAC2B,oBAAC,IAAD,EAAM,EAAE,CAAC,QAAT,WAD3B,CAZF,CADA,CADF,CAoBD","sourcesContent":["import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport CenteredContainer from \"../CenteredContainer/CenteredContainer\"\r\nimport './Signup.css'\r\n\r\nexport default function Signup() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const passwordConfirmRef = useRef()\r\n  const { signup } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError(\"Passwords do not match\")\r\n    }\r\n\r\n    try {\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await signup(emailRef.current.value, passwordRef.current.value)\r\n      history.push(\"/\")\r\n    } catch {\r\n      setError(\"Failed to create an account\")\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <div className=\"up-container\">\r\n    <CenteredContainer>\r\n        <div className=\"up-con-item\">\r\n          <h3 className=\"up-con-name\">Sign Up</h3>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <form onSubmit={handleSubmit}>\r\n              <input className=\"up-con-input-email\" placeholder=\"Enter your email\" type=\"email\" ref={emailRef} required />\r\n              <input className=\"up-con-input-pasword\" placeholder=\"Enter your password\" type=\"password\" ref={passwordRef} required />\r\n              <label className=\"up-con-input-txt\">Password Confirmation</label>\r\n              <input className=\"up-con-input-repasword\" placeholder=\"Confirm your password\" type=\"password\" ref={passwordConfirmRef} required />\r\n            <button className=\"up-con-sign\">Sign Up</button>\r\n          </form>\r\n        </div>\r\n      <div className=\"up-con-in\">\r\n        Already have an account? <Link to=\"/login\">Log In</Link>\r\n      </div>\r\n    </CenteredContainer>\r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}